(this["webpackJsonpchinese-practice"]=this["webpackJsonpchinese-practice"]||[]).push([[0],{107:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var a,i=n(2),s=n(0),r=n(12),c=n.n(r),o=(n(107),n(10)),l=n(187),d=n(188),j=n(189),u=n(51),b=n(205),O=n(181),h=n(182),f=n(183),g=n(185),m=n(184),p=n(186),x=n(89),v=n.n(x),y=n(34),S=n(177),k=Object(S.a)({drawerPaper:{paddingRight:"5ch"}}),T=function(e){var t=e.open,n=e.onClose,a=k();return Object(i.jsx)("div",{children:Object(i.jsx)(b.a,{anchor:"left",open:t,onClose:n,classes:{paper:a.drawerPaper},children:Object(i.jsxs)(O.a,{children:[Object(i.jsxs)(h.a,{button:!0,component:y.b,to:"/",onClick:n,children:[Object(i.jsx)(f.a,{children:Object(i.jsx)(m.a,{})}),Object(i.jsx)(g.a,{primary:"Practice"})]},"practice"),Object(i.jsxs)(h.a,{button:!0,component:y.b,to:"/edit-pairs",onClick:n,children:[Object(i.jsx)(f.a,{children:Object(i.jsx)(v.a,{})}),Object(i.jsx)(g.a,{primary:"Edit Terms"})]},"edit-pairs"),Object(i.jsxs)(h.a,{button:!0,component:y.b,to:"/settings",onClick:n,children:[Object(i.jsx)(f.a,{children:Object(i.jsx)(p.a,{})}),Object(i.jsx)(g.a,{primary:"Settings"})]},"settings")]})})})},P=n(190),w=function(){var e=Object(s.useState)(!1),t=Object(o.a)(e,2),n=t[0],a=t[1];function r(){a(!n)}return Object(i.jsxs)("div",{children:[Object(i.jsx)(l.a,{position:"static",children:Object(i.jsxs)(d.a,{children:[Object(i.jsx)(j.a,{edge:"start",color:"inherit",onClick:r,children:Object(i.jsx)(P.a,{})}),Object(i.jsx)(u.a,{variant:"h6",color:"inherit",children:"Chinese Practice App"})]})}),Object(i.jsx)(T,{open:n,onClose:r})]})},C=n(16),M=n(191),I=n(192),D=n(193),E=n(6),A=n(13),N=n(20),G=n(69),F=n.n(G),R=n(41),L=n(92),J=n(48),U=n(57),z=n(93),W=n.n(z),H=n(140),B=Object(J.c)({sortComparer:function(e,t){var n=e.rank-t.rank,a=Math.min(Math.max(n,-1),1);return 0!==a||0!==e.rank?a:e.nonce-t.nonce}}),K=B.getInitialState({loadStatus:"unloaded",editingPair:null,solvingPair:null,pastSolvingPairs:[],status:"loading",settings:{lostPointsOnFail:1,gainedPointsOnSuccess:1,startingPoints:-3,minimumGapBetweenElements:5,dailyGoal:25,dayInterval:3,flipTerms:!0,askTerm:!1,learnedOnlyMode:!1},stats:{totalTerms:0,seenTerms:0,learnedTerms:0,history:{}},currentDate:null,historyStats:{learnedTerms:{currentSession:0,today:0,week:0,month:0},goalMet:{today:!1,week:!1,month:!1}}}),Z="http://"+window.location.hostname+":5000/",Y=Object(J.b)("pairs/addPairs",function(){var e=Object(L.a)(F.a.mark((function e(t){var n,a,i,s,r,c,o,l,d,j;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=[],i=t.split("\n"),s=i.map((function(e){return-1!==e.indexOf(" ")?[e.substr(0,e.indexOf(" ")),e.substr(e.indexOf(" ")+1)]:[e]})),r=Object(R.a)(s),e.prev=5,r.s();case 7:if((c=r.n()).done){e.next=14;break}if(0!==(o=c.value).length){e.next=11;break}return e.abrupt("continue",12);case 11:1===o.length?n.push(o[0]):a.push({id:H.nfd(o[0]).trim(),definition:o[1]});case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:if(!(n.length>0)){e.next=33;break}l=0;case 24:if(!(l<n.length)){e.next=33;break}return console.log(Z),e.next=28,W.a.post(Z,{terms:n.slice(l,Math.min(l+128,n.length))});case 28:for(d=e.sent,j=0;j<d.data.length;j++)a.push({id:H.nfd(n[l+j]).trim(),definition:d.data[j].translatedText.toLowerCase()});case 30:l+=128,e.next=24;break;case 33:return e.abrupt("return",a);case 34:case"end":return e.stop()}}),e,null,[[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()),$=Object(J.d)({name:"pairs",initialState:K,reducers:{addDataFromFile:function(e,t){B.upsertMany(e,t.payload);var n,a=0,i=0,s=Object(R.a)(e.ids);try{for(s.s();!(n=s.n()).done;){var r=n.value,c=e.entities[r];c.seen&&(a+=1,c.rank>0&&(i+=1))}}catch(o){s.e(o)}finally{s.f()}e.stats={totalTerms:e.ids.length,seenTerms:a,learnedTerms:i}},setGoalMet:function(e,t){e.historyStats.goalMet={today:0!==e.settings.dailyGoal&&e.historyStats.learnedTerms.today>=e.settings.dailyGoal,week:0!==e.settings.dailyGoal&&e.historyStats.learnedTerms.week>=7*e.settings.dailyGoal,month:0!==e.settings.dailyGoal&&e.historyStats.learnedTerms.month>=30*e.settings.dailyGoal}},fetchInfo:function(e,t){var n=localStorage.getItem("chinese-practice/pairs");if(null!==n){var a=JSON.parse(n);B.upsertMany(e,a)}var i={};null!==(n=localStorage.getItem("chinese-practice/history"))&&(i=JSON.parse(n)),null!==(n=localStorage.getItem("chinese-practice/settings"))&&(e.settings=JSON.parse(n));var s=0,r=0,c=0,o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate());e.currentDate=l.getTime();var d,j=Object(R.a)(e.ids);try{for(j.s();!(d=j.n()).done;){var u=d.value,b=e.entities[u];b.seen>0&&(s+=1,b.seen>1&&(b.lastSeen<=e.currentDate-864e5*Math.pow(e.settings.dayInterval,b.seen-2)?(b.rank=0,B.updateOne(e,b),c+=1):r+=1));var O=b.id.trim();O!==u&&(B.removeOne(e,b),b.id=O,B.addOne(e,b))}}catch(T){j.e(T)}finally{j.f()}e.stats={totalTerms:e.ids.length,seenTerms:s,learnedTerms:r,history:i};var h=-c,f=-c,g=-c,m=new Date(e.currentDate-2592e6),p=new Date(e.currentDate-6048e5),x=Object.keys(e.stats.history).filter((function(e){return e>m}));if(x.length>0){var v,y=Object(R.a)(x);try{for(y.s();!(v=y.n()).done;){var S=v.value,k=e.stats.history[S];g+=k,S>p&&(f+=k),parseInt(S)===e.currentDate&&(h=k)}}catch(T){y.e(T)}finally{y.f()}}e.historyStats={learnedTerms:Object(N.a)(Object(N.a)({},e.historyStats.learnedTerms),{},{today:h,week:f,month:g})},$.caseReducers.setGoalMet(e,t),e.loadStatus="loaded",e.status="idle"},deletePairs:function(e,t){B.removeAll(e),e.stats={totalTerms:0,seenTerms:0,learnedTerms:0},e.historyStats={learnedTerms:{currentSession:0,today:0,week:0,month:0},goalMet:{today:!1,week:!1,month:!1}}},deletePair:function(e,t){e.stats=Object(N.a)(Object(N.a)({},e.stats),{},{totalTerms:e.stats.totalTerms-1,seenTerms:e.entities[t.payload].seen?e.stats.seenTerms-1:e.stats.seenTerms,learnedTerms:e.entities[t.payload].rank>0?e.stats.learnedTerms-1:e.stats.learnedTerms}),e.entities[t.payload].rank>0&&(e.historyStats={learnedTerms:{currentSession:e.historyStats.learnedTerms.currentSession-1,today:e.historyStats.learnedTerms.today-1,week:e.historyStats.learnedTerms.week-1,month:e.historyStats.learnedTerms.month-1}}),$.caseReducers.setGoalMet(e,t),B.removeOne(e,t.payload),$.caseReducers.updateSolvingPair(e,t),e.status="idle"},deletePracticeInfo:function(e,t){var n=Object.values(e.ids).map((function(t){var n=e.entities[t];return n.rank=0,n.seen=0,n.lastSeen=-1,n.flip=e.settings.askTerm,n.nonce=Math.random()-.5,n}));e.stats=Object(N.a)(Object(N.a)({},e.stats),{},{seenTerms:0,learnedTerms:0}),e.historyStats={learnedTerms:{currentSession:0,today:0,week:0,month:0},goalMet:{today:!1,week:!1,month:!1}},B.updateMany(e,n),$.caseReducers.updateSolvingPair(e,t)},deleteHistoryInfo:function(e,t){e.stats.history=Object(A.a)({},e.currentDate,e.stats.learnedTerms),e.historyStats={learnedTerms:{currentSession:0,today:e.stats.learnedTerms,week:e.stats.learnedTerms,month:e.stats.learnedTerms},goalMet:{today:e.stats.learnedTerms>=e.settings.dailyGoal,week:e.stats.learnedTerms>=7*e.settings.dailyGoal,month:e.stats.learnedTerms>=30*e.settings.dailyGoal}}},saveInfo:function(e,t){var n=JSON.stringify(e.entities);localStorage.setItem("chinese-practice/pairs",n),n=JSON.stringify(e.settings),localStorage.setItem("chinese-practice/settings",n),e.stats.history[e.currentDate]=e.historyStats.learnedTerms.today,n=JSON.stringify(e.stats.history),localStorage.setItem("chinese-practice/history",n)},editPair:function(e,t){var n=t.payload,a=n.newId,i=n.definition;e.entities[e.editingPair.id]&&(B.removeOne(e,e.editingPair.id),B.upsertOne(e,{id:a,definition:i,rank:0,seen:-1,flip:e.settings.askTerm,nonce:Math.random()-.5})),e.editingPair=null,e.solvingPair=null,e.stats.totalTerms=e.ids.length,e.status="idle"},updateEditingPair:function(e,t){e.editingPair=e.entities[t.payload],e.status="editing"},updateSolvingPair:function(e,t){if(null!==e.solvingPair){e.pastSolvingPairs.push(e.solvingPair.id.toString());var n=e.settings.learnedOnlyMode?e.stats.learnedTerms:e.stats.totalTerms;e.pastSolvingPairs.length>Math.min(n-1,e.settings.minimumGapBetweenElements)&&e.pastSolvingPairs.shift()}e.status="solving";var a,i=Object(R.a)(e.ids);try{for(i.s();!(a=i.n()).done;){var s=a.value;if(!e.pastSolvingPairs.includes(s.toString())&&(e.solvingPair=e.entities[s],!e.settings.learnedOnlyMode||!(0===e.solvingPair.seen||e.solvingPair.rank<=0)))return 0===e.solvingPair.seen&&(e.solvingPair.rank=e.settings.startingPoints,e.stats=Object(N.a)(Object(N.a)({},e.stats),{},{seenTerms:e.stats.seenTerms+1}),e.solvingPair.seen=1),e.solvingPair.lastSeen=e.currentDate,void B.updateOne(e,e.solvingPair)}}catch(r){i.e(r)}finally{i.f()}e.status="invalidLearningMode"},submitAnswer:function(e,t){if(t.payload.toLowerCase()===(e.solvingPair.flip?e.solvingPair.id.toLowerCase():e.solvingPair.definition.toLowerCase())){if("wrong"!==e.status){var n=e.solvingPair.rank+e.settings.gainedPointsOnSuccess,a=e.solvingPair.rank<=0&&n>0;B.updateOne(e,{id:e.solvingPair.id,changes:{rank:n,seen:a?e.solvingPair.seen+1:e.solvingPair.seen,flip:e.settings.flipTerms?!e.solvingPair.flip:e.settings.askTerm}}),a&&(e.stats=Object(N.a)(Object(N.a)({},e.stats),{},{learnedTerms:e.stats.learnedTerms+1}),e.historyStats=Object(N.a)(Object(N.a)({},e.historyStats),{},{learnedTerms:{currentSession:e.historyStats.learnedTerms.currentSession+1,today:e.historyStats.learnedTerms.today+1,week:e.historyStats.learnedTerms.week+1,month:e.historyStats.learnedTerms.month+1}}),0!==e.settings.dailyGoal&&(e.historyStats.goalMet.today||(e.historyStats.goalMet.today=e.historyStats.learnedTerms.today>=e.settings.dailyGoal),e.historyStats.goalMet.week||(e.historyStats.goalMet.week=e.historyStats.learnedTerms.week>=7*e.settings.dailyGoal),e.historyStats.goalMet.month||(e.historyStats.goalMet.month=e.historyStats.learnedTerms.month>=30*e.settings.dailyGoal)))}$.caseReducers.updateSolvingPair(e,t)}else{if("wrong"!==e.status&&e.solvingPair.flip){var i=t.payload.toLowerCase();if(i in e.entities&&e.entities[i].definition===e.solvingPair.definition)return console.log(e.entities[i].definition),console.log(e.solvingPair.definition),B.updateMany(e,[{id:e.solvingPair.id,changes:{flip:!1}},{id:i,changes:{flip:!1}}]),void $.caseReducers.updateSolvingPair(e,t)}var s=e.solvingPair.rank>0?e.settings.startingPoints:e.solvingPair.rank-e.settings.lostPointsOnFail;B.updateOne(e,{id:e.solvingPair.id,changes:{rank:s,seen:1}}),e.status="wrong"}},updateSettings:function(e,t){Object.assign(e.settings,t.payload),e.status="idle","learnedOnlyMode"===Object.keys(t.payload)[0]&&(e.pastSolvingPairs=[])}},extraReducers:(a={},Object(A.a)(a,Y.pending,(function(e,t){e.status="loading"})),Object(A.a)(a,Y.fulfilled,(function(e,t){e.status="idle";var n,a=Object(R.a)(t.payload);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.ids.includes(i.id)?e.entities[i.id].definition=i.definition:B.upsertOne(e,Object(N.a)(Object(N.a)({},i),{},{rank:0,seen:0,lastSeen:-1,flip:e.settings.askTerm,nonce:Math.random()-.5}))}}catch(s){a.e(s)}finally{a.f()}e.stats.totalTerms=e.ids.length,$.caseReducers.saveInfo(e,t)})),Object(A.a)(a,Y.rejected,(function(e,t){e.status="failed",e.error=t.error})),a)}),q=$.actions,Q=q.fetchInfo,V=q.saveInfo,X=q.deletePairs,_=q.editPair,ee=q.updateEditingPair,te=q.deletePair,ne=q.updateSolvingPair,ae=q.submitAnswer,ie=q.updateSettings,se=q.deletePracticeInfo,re=q.addDataFromFile,ce=q.deleteHistoryInfo,oe=$.reducer,le=B.getSelectors((function(e){return e.pairs})),de=le.selectAll,je=(le.selectById,le.selectIds),ue=Object(U.a)([de,function(e,t){return t}],(function(e,t){return""===t?e:e.filter((function(e){return-1!==e.id.indexOf(t)||-1!==e.definition.indexOf(t)}))})),be=Object(S.a)({actions:{justifyContent:"center"},button:{color:"red"}}),Oe=function(){var e=be(),t=Object(E.b)();return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:e.actions},children:Object(i.jsx)(D.a,{variant:"contained",classes:{root:e.button},onClick:function(){return t(X())},children:"Delete All Terms"})})})})},he=n(194),fe=n(204),ge=n(195),me=n(196),pe=function(e){var t=e.pair,n=Object(E.b)();return Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(M.a,{children:Object(i.jsxs)(I.a,{children:[Object(i.jsxs)(u.a,{children:[t.id,": ",t.definition]}),Object(i.jsx)(j.a,{onClick:function(){return n(ee(t.id))},children:Object(i.jsx)(ge.a,{})}),Object(i.jsx)(j.a,{onClick:function(){return n(te(t.id))},children:Object(i.jsx)(me.a,{})})]})})})},xe=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(E.c)((function(e){return ue(e,n)})).sort((function(e,t){return t.id>e.id?-1:e.id>t.id?1:0})).slice(0,100).map((function(e){return Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(pe,{pair:e})},e.id)}));return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{children:Object(i.jsxs)(he.a,{container:!0,direction:"column",alignItems:"center",spacing:2,children:[Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(fe.a,{value:n,onChange:function(e){return a(e.target.value)}})}),r]})})})})},ve=n(197),ye=Object(S.a)({textField:{maxWidth:"25ch"},actions:{justifyContent:"center"}}),Se=function(){var e=ye(),t=Object(E.b)(),n=Object(s.useState)(""),a=Object(o.a)(n,2),r=a[0],c=a[1];return Object(i.jsx)("div",{children:Object(i.jsxs)(M.a,{elevation:12,children:[Object(i.jsx)(ve.a,{children:Object(i.jsx)(fe.a,{multiline:!0,fullWidth:!0,placeholder:"Add Pairs Here",classes:{root:e.textField},value:r,onChange:function(e){return c(e.target.value)}})}),Object(i.jsx)(I.a,{classes:{root:e.actions},children:Object(i.jsx)(D.a,{variant:"contained",onClick:function(){t(Y(r)),c("")},children:"Submit"})})]})})},ke=n(198),Te=n(199),Pe=function(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.pairs.editingPair})),n=Object(E.c)((function(e){return e.pairs.status})),a=Object(s.useState)(!1),r=Object(o.a)(a,2),c=r[0],l=r[1],d=Object(s.useState)(!1),j=Object(o.a)(d,2),u=j[0],b=j[1],O=Object(s.useState)(!1),h=Object(o.a)(O,2),f=h[0],g=h[1],m=Object(s.useState)(""),p=Object(o.a)(m,2),x=p[0],v=p[1],y=Object(s.useState)(""),S=Object(o.a)(y,2),k=S[0],T=S[1],P=function(e){"Enter"===e.key&&w()},w=function(){return""===x?(b(!0),void g(!1)):""===k?(g(!0),void b(!1)):void e(_({newId:x,definition:k}))};return Object(s.useEffect)((function(){l("editing"===n),c&&null!==t&&(v(t.id),T(t.definition))}),[n,t,c]),Object(i.jsx)(ke.a,{open:c,children:Object(i.jsxs)(Te.a,{children:[Object(i.jsx)(fe.a,{error:u,value:x,helperText:"Term",onChange:function(e){return v(e.target.value)},onKeyPress:P}),Object(i.jsx)(fe.a,{error:f,value:k,helperText:"Definition",onChange:function(e){return T(e.target.value)},onKeyPress:P}),Object(i.jsx)(D.a,{onClick:w,children:"Submit"})]})})},we=n(60),Ce=n.n(we),Me=Object(S.a)({actions:{justifyContent:"center"},button:{color:"green"}}),Ie=function(){var e=Me(),t=Object(E.c)((function(e){return e.pairs.entities}));return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:e.actions},children:Object(i.jsx)(D.a,{variant:"contained",classes:{root:e.button},onClick:function(){for(var e="",n=0,a=Object.values(t);n<a.length;n++){var i=a[n];e+=i.id+" "+i.definition+"\n"}Ce()(e,"pairs.txt")},children:"Download Pairs"})})})})},De=Object(S.a)({actions:{justifyContent:"center"},button:{color:"green"}}),Ee=function(){var e=De(),t=Object(E.c)((function(e){return e.pairs.entities}));return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:e.actions},children:Object(i.jsx)(D.a,{variant:"contained",classes:{root:e.button},onClick:function(){Ce()(JSON.stringify(t),"pairs.json")},children:"Download Pair Data"})})})})},Ae=Object(S.a)({actions:{justifyContent:"center"},button:{color:"green"}}),Ne=function(){var e,t=Ae(),n=Object(E.b)(),a=function(){var t=e.result,a=JSON.parse(t);n(re(a))};return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:t.actions},children:Object(i.jsxs)(D.a,{variant:"contained",component:"label",classes:{root:t.button},children:["Upload Pair Data",Object(i.jsx)("input",{type:"file",hidden:!0,onChange:function(t){(e=new FileReader).onloadend=a,e.readAsText(t.target.files[0])}})]})})})})},Ge=Object(S.a)({actions:{justifyContent:"center"},button:{color:"green"}}),Fe=function(){var e,t=Ge(),n=Object(E.b)(),a=function(){var t=e.result;n(Y(t))};return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:t.actions},children:Object(i.jsxs)(D.a,{variant:"contained",component:"label",classes:{root:t.button},children:["Upload Pairs",Object(i.jsx)("input",{type:"file",hidden:!0,onChange:function(t){(e=new FileReader).onloadend=a,e.readAsText(t.target.files[0])}})]})})})})},Re=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(Pe,{}),Object(i.jsxs)(he.a,{container:!0,direction:"column",alignItems:"center",spacing:3,children:[Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Se,{})}),Object(i.jsx)(he.a,{item:!0,children:Object(i.jsxs)(he.a,{container:!0,children:[Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Ie,{})}),Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Fe,{})})]})}),Object(i.jsx)(he.a,{item:!0,children:Object(i.jsxs)(he.a,{container:!0,children:[Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Ee,{})}),Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Ne,{})})]})}),Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Oe,{})}),Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(xe,{})})]})]})},Le=n(61),Je=n.n(Le),Ue=n.p+"static/media/correct.56f12d43.mp3",ze=window.speechSynthesis,We=Object(S.a)({actions:{justifyContent:"center"},button:{fontSize:"3rem",textTransform:"none"}}),He=new Je.a(Ue),Be=function(){var e=We(),t=Object(E.b)(),n=Object(E.c)(je),a=Object(E.c)((function(e){return e.pairs.solvingPair})),r=Object(E.c)((function(e){return e.pairs.status})),c=Object(s.useState)(!1),l=Object(o.a)(c,2),d=l[0],j=l[1];Object(s.useEffect)((function(){n.length>0&&"idle"===r&&t(ne())}),[r,t,n.length]);var b=function(){var e=new SpeechSynthesisUtterance(a.flip?a.definition:a.id);e.lang=a.flip?"en":"zh",ze.speak(e)};Object(s.useEffect)((function(){null!==a&&(d?He.play():j(!0),b())}),[a,d]);var O=Object(s.useState)(""),h=Object(o.a)(O,2),f=h[0],g=h[1];return Object(i.jsx)("div",{children:Object(i.jsxs)(M.a,{elevation:12,children:[Object(i.jsx)(ve.a,{children:"invalidLearningMode"===r?Object(i.jsx)(u.a,{variant:"h3",children:"You need to learn some terms first!"}):n.length>0?Object(i.jsx)(D.a,{onClick:b,className:e.button,children:null!==a?a.flip?a.definition:a.id:""}):Object(i.jsx)(u.a,{variant:"h3",children:"No terms found, add some first!"})}),"invalidLearningMode"===r?"":Object(i.jsx)(I.a,{className:e.actions,children:n.length>0?Object(i.jsx)(fe.a,{autoFocus:!0,placeholder:"Enter Definition Here",value:f,InputProps:{style:{fontSize:"3rem"}},onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(t(ae(f)),g(""))}}):Object(i.jsx)(D.a,{component:y.b,to:"/edit-pairs",variant:"contained",children:"Add Terms"})})]})})},Ke=n(200),Ze=n(201),Ye=n(70),$e=n.n(Ye),qe=n.p+"static/media/wrong.f163a52e.mp3",Qe=new Je.a(qe),Ve=window.speechSynthesis,Xe=Object(S.a)({dialog:{flexDirection:"column"},button:{fontSize:"3rem",textTransform:"none",width:"fit-content",whiteSpace:"nowrap"}}),_e=function(){var e=Object(E.b)(),t=Xe(),n=Object(E.c)((function(e){return e.pairs.solvingPair})),a="wrong"===Object(E.c)((function(e){return e.pairs.status})),r=Object(s.useState)(""),c=Object(o.a)(r,2),l=c[0],d=c[1],u=Object(s.useState)(!1),b=Object(o.a)(u,2),O=b[0],h=b[1],f=function(e){var t=e?n.flip:!n.flip,a=new SpeechSynthesisUtterance(t?n.definition:n.id);a.lang=t?"en":"zh",Ve.speak(a)};return Object(s.useEffect)((function(){a&&Qe.play()}),[a]),Object(s.useEffect)((function(){a&&!O&&(f(!0),f(!1))}),[a,O,n]),Object(i.jsx)("div",{children:Object(i.jsxs)(ke.a,{open:a,maxWidth:!1,className:t.dialog,children:[Object(i.jsx)(Ke.a,{children:O?"Enter Correct Answer":"Wrong Answer"}),Object(i.jsx)(Ze.a,{children:Object(i.jsxs)(D.a,{className:t.button,onClick:function(){return f(!0)},children:["Term: ",a?n.flip?n.definition:O?n.id:n.id+" ("+$e()(n.id)+")":""]})}),Object(i.jsx)(Ze.a,{children:O?Object(i.jsx)(fe.a,{autoFocus:!0,placeholder:"Enter Definition Here",value:l,InputProps:{style:{fontSize:"3rem"}},onChange:function(e){return d(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(e(ae(l)),d(""),h(!1))}}):Object(i.jsxs)(D.a,{className:t.button,onClick:function(){return f(!1)},children:["Correct Answer: ",a?n.flip?n.id+" ("+$e()(n.id)+")":n.definition:""]})}),Object(i.jsxs)(Te.a,{children:[Object(i.jsx)(j.a,{onClick:function(){return e(ee(n.id))},children:Object(i.jsx)(ge.a,{})}),Object(i.jsx)(j.a,{onClick:function(){return e(te(n.id))},children:Object(i.jsx)(me.a,{})}),O?"":Object(i.jsx)(D.a,{autoFocus:!0,onClick:function(){return h(!0)},children:"Next"})]})]})})},et=function(e){var t=e.stat,n=Object(E.c)((function(e){return e.pairs.stats[t]})),a=Object(E.c)((function(e){return e.pairs.stats.totalTerms}));return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsxs)(ve.a,{children:[Object(i.jsx)(u.a,{variant:"h5",children:(t.charAt(0).toUpperCase()+t.slice(1)).split(/(?=[A-Z])/).join(" ")}),Object(i.jsxs)(u.a,{variant:"h3",children:[n,"totalTerms"===t||0===a?"":" ("+Math.round(n/a*1e3)/10+"%)"]})]})})})},tt=function(e){var t=e.historyRange,n=Object(E.c)((function(e){return e.pairs.historyStats.learnedTerms[t]})),a=Object(E.c)((function(e){return e.pairs.settings.dailyGoal})),s=1;"week"===t?s=7:"month"===t&&(s=30);var r=a*s;return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsxs)(ve.a,{children:[Object(i.jsx)(u.a,{variant:"h5",children:(t.charAt(0).toUpperCase()+t.slice(1)).split(/(?=[A-Z])/).join(" ")+" Learned Terms"}),Object(i.jsx)(u.a,{variant:"h3",children:n+(0===r?"":"/"+r+" ("+Math.round(n/r*1e3)/10+"%)")})]})})})},nt=Object(S.a)({button:{fontSize:"3rem"}}),at=function(){var e=nt(),t=Object(E.c)((function(e){return e.pairs.historyStats.goalMet.today})),n=Object(E.c)((function(e){return e.pairs.historyStats.goalMet.week})),a=Object(E.c)((function(e){return e.pairs.historyStats.goalMet.month})),r=Object(s.useState)(!1),c=Object(o.a)(r,2),l=c[0],d=c[1],j=Object(s.useState)(""),u=Object(o.a)(j,2),b=u[0],O=u[1];return Object(s.useEffect)((function(){t&&(d(!0),O("Daily"))}),[t]),Object(s.useEffect)((function(){n&&(d(!0),O("Weekly"))}),[n]),Object(s.useEffect)((function(){a&&(d(!0),O("Monthly"))}),[a]),Object(i.jsx)("div",{children:Object(i.jsx)(ke.a,{open:l,onClose:function(){return d(!1)},children:Object(i.jsx)(Te.a,{children:Object(i.jsxs)(D.a,{className:e.button,onClick:function(){return d(!1)},children:[b," Goal Met!"]})})})})},it=Object(S.a)({container:{padding:24}}),st=function(){var e=it(),t=Object(E.b)(),n=Object(E.c)((function(e){return e.pairs.loadStatus})),a=Object(E.c)((function(e){return e.pairs.stats})),r=Object(E.c)((function(e){return e.pairs.historyStats.learnedTerms}));return Object(s.useEffect)((function(){"unloaded"!==n&&t(V())}),[t,a.learnedTerms,n]),Object(i.jsxs)("div",{children:[Object(i.jsx)(Pe,{}),Object(i.jsx)(_e,{}),Object(i.jsx)(at,{}),Object(i.jsxs)(he.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:3,className:e.container,children:[Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(Be,{})}),Object(i.jsxs)(he.a,{item:!0,children:[Object(i.jsx)(he.a,{container:!0,justify:"center",spacing:3,children:Object.keys(a).map((function(e){return"history"===e||"historyStats"===e?"":Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(et,{stat:e})},e)}))}),Object(i.jsx)(he.a,{container:!0,justify:"center",spacing:3,className:e.container,children:Object.keys(r).map((function(e){return Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(tt,{historyRange:e})},e)}))})]})]})]})},rt=n(202),ct=n(203),ot=function(e){var t=e.setting,n=Object(E.b)(),a=Object(E.c)((function(e){return e.pairs.settings[t]})),r=Object(s.useState)(a),c=Object(o.a)(r,2),l=c[0],d=c[1],b=function(e){return d(l+e)};return Object(s.useEffect)((function(){Number.isInteger(l)&&n(ie(Object(A.a)({},t,l)))}),[n,t,l]),Object(s.useEffect)((function(){d(a)}),[a]),Object(i.jsx)("div",{children:Object(i.jsxs)(M.a,{elevation:12,children:[Object(i.jsxs)(ve.a,{children:[Object(i.jsx)(u.a,{variant:"h5",children:(t.charAt(0).toUpperCase()+t.slice(1)).split(/(?=[A-Z])/).join(" ")}),Object(i.jsx)(u.a,{variant:"h3",children:a})]}),Object(i.jsxs)(I.a,{children:[Object(i.jsx)(j.a,{onClick:function(){return b(-1)},children:Object(i.jsx)(rt.a,{})}),Object(i.jsx)(fe.a,{value:l,type:"number",onChange:function(e){return d(parseInt(e.target.value))}}),Object(i.jsx)(j.a,{onClick:function(){return b(1)},children:Object(i.jsx)(ct.a,{})})]})]})})},lt=Object(S.a)({actions:{justifyContent:"center"},button:{color:"red"}}),dt=function(){var e=lt(),t=Object(E.b)();return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:e.actions},children:Object(i.jsx)(D.a,{variant:"contained",classes:{root:e.button},onClick:function(){return t(se())},children:"Delete Practice Info"})})})})},jt=Object(S.a)({actions:{justifyContent:"center"}}),ut=function(e){var t=e.setting,n=jt(),a=Object(E.b)(),s=Object(E.c)((function(e){return e.pairs.settings[t]}));return Object(i.jsx)("div",{children:Object(i.jsxs)(M.a,{elevation:12,children:[Object(i.jsx)(ve.a,{children:Object(i.jsx)(u.a,{variant:"h5",children:(t.charAt(0).toUpperCase()+t.slice(1)).split(/(?=[A-Z])/).join(" ")})}),Object(i.jsx)(I.a,{className:n.actions,children:Object(i.jsx)(D.a,{variant:"contained",onClick:function(){return a(ie(Object(A.a)({},t,!s)))},children:s.toString()})})]})})},bt=Object(S.a)({actions:{justifyContent:"center"},button:{color:"red"}}),Ot=function(){var e=bt(),t=Object(E.b)();return Object(i.jsx)("div",{children:Object(i.jsx)(M.a,{elevation:12,children:Object(i.jsx)(I.a,{classes:{root:e.actions},children:Object(i.jsx)(D.a,{variant:"contained",classes:{root:e.button},onClick:function(){return t(ce())},children:"Delete History Info"})})})})},ht=Object(S.a)({container:{padding:24}}),ft=function(){var e=ht(),t=Object(E.c)((function(e){return e.pairs.settings}));return Object(i.jsx)("div",{children:Object(i.jsxs)(he.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:3,className:e.container,children:[Object(i.jsx)(he.a,{item:!0,children:Object(i.jsx)(he.a,{container:!0,spacing:3,justify:"center",children:Object.keys(t).map((function(e){return Object(i.jsx)(he.a,{item:!0,children:"boolean"===typeof t[e]?Object(i.jsx)(ut,{setting:e}):Object(i.jsx)(ot,{setting:e})},e)}))})}),Object(i.jsxs)(he.a,{item:!0,children:[Object(i.jsx)(dt,{}),Object(i.jsx)(Ot,{})]})]})})};function gt(){var e=Object(E.b)(),t=Object(E.c)((function(e){return e.pairs.loadStatus}));return Object(s.useEffect)((function(){"unloaded"===t&&e(Q())}),[t,e]),Object(s.useEffect)((function(){var t=function(){return e(V())};return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t),t()}}),[e]),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(w,{}),Object(i.jsxs)(C.c,{children:[Object(i.jsx)(C.a,{exact:!0,path:"/",component:st}),Object(i.jsx)(C.a,{exact:!0,path:"/edit-pairs",component:Re}),Object(i.jsx)(C.a,{exact:!0,path:"/settings",component:ft})]})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var mt=Object(J.a)({reducer:{pairs:oe}});c.a.render(Object(i.jsx)(y.a,{children:Object(i.jsx)(E.a,{store:mt,children:Object(i.jsx)(gt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);